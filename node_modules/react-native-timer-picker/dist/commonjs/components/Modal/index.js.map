{"version":3,"names":["_react","_interopRequireWildcard","require","_reactNative","_Modal","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","prototype","hasOwnProperty","call","i","set","_extends","assign","bind","target","arguments","length","source","key","apply","Modal","children","onOverlayPress","onHide","isVisible","animationDuration","overlayOpacity","modalProps","contentStyle","overlayStyle","testID","width","screenWidth","height","screenHeight","useWindowDimensions","isMounted","useRef","animatedOpacity","Animated","Value","useEffect","current","show","backdropAnimatedStyle","opacity","interpolate","inputRange","outputRange","contentAnimatedStyle","transform","translateY","extrapolate","useCallback","timing","easing","Easing","inOut","quad","useNativeDriver","duration","toValue","start","hide","createElement","transparent","animationType","visible","TouchableWithoutFeedback","onPress","View","style","styles","backdrop","content","pointerEvents","exports","_default","React","memo"],"sources":["index.tsx"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-explicit-any */\nimport React, { useCallback, useEffect, useRef } from \"react\";\nimport {\n    Animated,\n    Easing,\n    Modal as ReactNativeModal,\n    TouchableWithoutFeedback,\n    useWindowDimensions,\n} from \"react-native\";\n\nimport { styles } from \"./Modal.styles\";\n\ninterface ModalProps {\n    children?: React.ReactElement;\n    onOverlayPress?: () => void;\n    onHide?: () => void;\n    isVisible?: boolean;\n    animationDuration?: number;\n    overlayOpacity?: number;\n    modalProps?: any;\n    contentStyle?: any;\n    overlayStyle?: any;\n    testID?: string;\n}\n\nexport const Modal = ({\n    children,\n    onOverlayPress,\n    onHide,\n    isVisible = false,\n    animationDuration = 300,\n    overlayOpacity = 0.4,\n    modalProps,\n    contentStyle,\n    overlayStyle,\n    testID = \"modal\",\n}: ModalProps): React.ReactElement => {\n    const { width: screenWidth, height: screenHeight } = useWindowDimensions();\n\n    const isMounted = useRef(false);\n    const animatedOpacity = useRef(new Animated.Value(0));\n\n    useEffect(() => {\n        isMounted.current = true;\n        if (isVisible) {\n            show();\n        }\n\n        return () => {\n            isMounted.current = false;\n        };\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    const backdropAnimatedStyle = {\n        opacity: animatedOpacity.current.interpolate({\n            inputRange: [0, 1],\n            outputRange: [0, overlayOpacity],\n        }),\n    };\n    const contentAnimatedStyle = {\n        transform: [\n            {\n                translateY: animatedOpacity.current.interpolate({\n                    inputRange: [0, 1],\n                    outputRange: [screenHeight, 0],\n                    extrapolate: \"clamp\",\n                }),\n            },\n        ],\n    };\n\n    const show = useCallback(() => {\n        Animated.timing(animatedOpacity.current, {\n            easing: Easing.inOut(Easing.quad),\n            // Using native driver in the modal makes the content flash\n            useNativeDriver: true,\n            duration: animationDuration,\n            toValue: 1,\n        }).start();\n    }, [animationDuration]);\n\n    const hide = useCallback(() => {\n        Animated.timing(animatedOpacity.current, {\n            easing: Easing.inOut(Easing.quad),\n            // Using native driver in the modal makes the content flash\n            useNativeDriver: true,\n            duration: animationDuration,\n            toValue: 0,\n        }).start(() => {\n            if (isMounted.current) {\n                onHide?.();\n            }\n        });\n    }, [animationDuration, onHide]);\n\n    useEffect(() => {\n        if (isVisible) {\n            show();\n        } else {\n            hide();\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [isVisible]);\n\n    return (\n        <ReactNativeModal\n            transparent\n            animationType=\"fade\"\n            visible={isVisible}\n            {...modalProps}\n            testID={testID}>\n            <TouchableWithoutFeedback\n                onPress={onOverlayPress}\n                testID=\"modal-backdrop\">\n                <Animated.View\n                    style={[\n                        styles.backdrop,\n                        backdropAnimatedStyle,\n                        { width: screenWidth, height: screenHeight },\n                        overlayStyle,\n                    ]}\n                />\n            </TouchableWithoutFeedback>\n            <Animated.View\n                style={[styles.content, contentAnimatedStyle, contentStyle]}\n                pointerEvents=\"box-none\">\n                {children}\n            </Animated.View>\n        </ReactNativeModal>\n    );\n};\n\nexport default React.memo(Modal);\n"],"mappings":"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"}